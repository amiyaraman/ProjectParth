<UserControl x:Class="BigBrems.Views.SearchParametersView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Border Background="White" CornerRadius="10" Padding="25">
        <Border.Effect>
            <DropShadowEffect Color="Black" Opacity="0.04" BlurRadius="15" ShadowDepth="3"/>
        </Border.Effect>

        <StackPanel>
            <TextBlock Text="{DynamicResource StrSearchData}" FontSize="20" FontWeight="Bold" Margin="0,0,0,20" Foreground="#1E293B"/>

            <StackPanel Orientation="Horizontal" Margin="0,0,0,25">
                <RadioButton Content="{DynamicResource StrSearchByDatasetIds}" IsChecked="True" Margin="0,0,30,0" Foreground="#475569" FontWeight="Medium"/>
                <RadioButton Content="{DynamicResource StrSearchByCriteria}" Foreground="#475569" FontWeight="Medium"/>
            </StackPanel>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,20,0">
                    <TextBlock Text="DataPool" Foreground="#64748B" FontWeight="Medium" Margin="0,0,0,8"/>
                    <ComboBox Height="38" Padding="10,0,30,0" BorderBrush="#CBD5E1" VerticalContentAlignment="Center" Background="White"
                              ItemsSource="{Binding AvailableDataPools}"
                              SelectedItem="{Binding SelectedDataPool, Mode=TwoWay}"
                              DisplayMemberPath="Name"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Margin="0,0,20,0">
                    <TextBlock Text="{DynamicResource StrDataType}" Foreground="#64748B" FontWeight="Medium" Margin="0,0,0,8"/>
                    <ComboBox Height="38" Padding="10,0,30,0" BorderBrush="#CBD5E1" VerticalContentAlignment="Center" Background="White"
                              ItemsSource="{Binding AvailableDataTypes}"
                              SelectedItem="{Binding SelectedDataType, Mode=TwoWay}">
                    </ComboBox>
                </StackPanel>

                <StackPanel Grid.Column="2" Margin="0,0,20,0">
                    <TextBlock Text="{DynamicResource StrDatasetIds}" Foreground="#64748B" FontWeight="Medium" Margin="0,0,0,8"/>

                    <TextBox Text="{Binding DatasetSearchText, UpdateSourceTrigger=PropertyChanged}" 
                             Height="38" Padding="10,8" BorderBrush="#CBD5E1" Margin="0,0,0,5"
                             Tag="{DynamicResource StrSelectDatasetIds}"/>

                    <Border BorderBrush="#CBD5E1" BorderThickness="1" CornerRadius="4" Height="120" Background="#F8FAFC">
                        <ListBox ItemsSource="{Binding AvailableDatasetsForSelection}" BorderThickness="0" Background="Transparent" Margin="2">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <CheckBox IsChecked="{Binding IsSelected, Mode=TwoWay}" Margin="5">
                                        <TextBlock Text="{Binding Id}" Foreground="#334155"/>
                                    </CheckBox>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </Border>
                </StackPanel>

                <StackPanel Grid.Column="3" VerticalAlignment="Bottom" Margin="0,0,0,0">
                    <Button Content="Search" 
        Command="{Binding SearchCommand}" 
        Background="#0F172A" Foreground="White" FontWeight="SemiBold" Height="38" Width="100" BorderThickness="0" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </Grid>
        </StackPanel>
    </Border>
</UserControl>